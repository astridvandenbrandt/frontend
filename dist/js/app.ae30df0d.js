(function(e){function t(t){for(var n,o,c=t[0],l=t[1],i=t[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,i||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,c=1;c<a.length;c++){var l=a[c];0!==r[l]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},s=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"2d17":function(e,t,a){},3007:function(e,t,a){},"4edc":function(e,t,a){"use strict";a("3007")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),r={id:"app"},s={class:"container-fluid"},o={class:"min-vh-100"},c={class:"row gx-2"},l={class:"col-md-2"},i=Object(n["d"])('<div class="sidebar-section"><div class="sidebar-item" id="sidebar-menu-header"><h4>Menu</h4></div><div class="sidebar-item"><label for="selectButtonData"> Gene: </label><select class="selectButtonVariants" id="selectButtonData"></select></div><div class="sidebar-item"><label for="selectButtonData"> Visual Reference: </label><select class="selectButtonVariants" id="selectButtonAccessionData"></select></div><div class="sidebar-item"><label for="selectButtonData"> Tree Type: </label><select class="selectButtonVariants" id="selectButtonTreeData"></select></div></div>',1),u={class:"content-section",id:"tree-comp"},d=Object(n["f"])("div",{class:"content-title"}," Species Tree ",-1),f={class:"col-md-10"},h={class:"content-section"},p=Object(n["f"])("div",{class:"content-title"}," Gene Sequences and Phenotypes ",-1);function v(e,t,a,v,m,y){var x=Object(n["h"])("TreeVis"),g=Object(n["h"])("GeneVariantVis");return Object(n["g"])(),Object(n["c"])("div",r,[Object(n["f"])("div",s,[Object(n["f"])("div",o,[Object(n["f"])("div",c,[Object(n["f"])("div",l,[i,Object(n["f"])("div",u,[d,Object(n["f"])(x,{ref:"tree_data"},null,512)])]),Object(n["f"])("div",f,[Object(n["f"])("div",h,[p,Object(n["f"])(g,{ref:"variant_data"},null,512)])])])])])])}var m=a("1da1"),y=(a("96cf"),a("b64b"),a("b0c0"),a("d3b7"),a("898b")),x=Object(n["f"])("div",{class:"selectLabelTree"},[Object(n["f"])("label",{id:"show-length"},[Object(n["f"])("input",{type:"checkbox",id:"showBranchLength",checked:""}),Object(n["e"])(" Show branch length ")])],-1),g=Object(n["f"])("div",{id:"phylo"},null,-1);function _(e,t,a,r,s,o){return Object(n["g"])(),Object(n["c"])(n["a"],null,[x,g],64)}a("ac1f"),a("1276"),a("4e82"),a("fb6a"),a("99af");var b={name:"TreeVis",methods:{updateVis:function(e){var t=this;function a(e){for(var t=[],a={},n=e.split(/\s*(;|\(|\)|,|:)\s*/),r=0;r<n.length;r++){var s=n[r];switch(s){case"(":var o={};a.branchset=[o],t.push(a),a=o;break;case",":var c={};t[t.length-1].branchset.push(c),a=c;break;case")":a=t.pop();break;case":":break;default:var l=n[r-1];")"==l||"("==l||","==l?a.name=s+r:":"==l&&(a.length=parseFloat(s))}}return a}var n=a(e),r=y["k"](n,(function(e){return e.branchset})).sum((function(e){return e.branchset?0:1})).sort((function(e,t){return e.value||y["a"](e.data.length,t.data.length)}));t.root=r;var s,o,c=r.leaves(),l=[];for(s=0;s<c.length;s++){var i=[];for(o=0;o<c[s].ancestors().length;o++)i.push(c[s].ancestors()[o].data.length);l.push(y["t"](i))}var u=y["m"](l);t.xScale.domain([0,u]),t.renderVis()},renderVis:function(){var e=this;function t(t,a){var r=e.g.selectAll(".links").data(t);r.exit().remove();var s=r.enter().append("path").attr("class","links");s.merge(r).transition().attr("fill","none").attr("stroke","#ccc").attr("d",(function(e){return n(e)}));var o=e.g.selectAll(".nodes").data(a);o.exit().remove();var c=o.enter().append("circle").attr("class","nodes");c.merge(o).transition().attr("fill",(function(e){return e.children?"none":"#999"})).attr("r",2).attr("transform",(function(t){return"translate("+e.xScale(t.rootDist)+","+t.x+")"}));var l=e.g.selectAll(".node-labels").data(a);l.exit().remove();var i=l.enter().append("text").attr("class","node-labels");i.merge(l).transition().attr("fill",(function(e){return e.children?"none":"#2c3e50"})).attr("font-size","10px").attr("transform",(function(t){return"translate("+(e.xScale(t.rootDist)+5)+","+(t.x+2)+")"})).text((function(e){return e.data.name.length<7?e.data.name.slice(0,-1):e.data.name.slice(0,-2)})).style("text-anchor","start")}function a(t,a){var n=e.g.selectAll(".links").data(t);n.exit().remove();var s=n.enter().append("path").attr("class","links");s.merge(n).transition().attr("fill","none").attr("stroke","#ccc").attr("d",(function(e){return r(e)}));var o=e.g.selectAll(".nodes").data(a);o.exit().remove();var c=o.enter().append("circle").attr("class","nodes");c.merge(o).transition().attr("fill",(function(e){return e.children?"none":"#999"})).attr("r",2).attr("transform",(function(e){return"translate("+e.y+","+e.x+")"}));var l=e.g.selectAll(".node-labels").data(a);l.exit().remove();var i=l.enter().append("text").attr("class","node-labels");i.merge(l).transition().attr("fill",(function(e){return e.children?"none":"#2c3e50"})).attr("font-size","10px").attr("transform",(function(e){return"translate("+(e.y+5)+","+(e.x+2)+")"})).text((function(e){return e.data.name.length<7?e.data.name.slice(0,-1):e.data.name.slice(0,-2)}))}function n(t){var a=[t.source,t.target],n=y["l"]().x((function(t){return t.rootDist=(t.parent?t.parent.rootDist:0)+(t.data.length||0),e.xScale(t.rootDist)})).y((function(e){return e.x})).curve(y["i"]);return n(a)}function r(e){var t=[e.source,e.target],a=y["l"]().x((function(e){return e.rootDist=(e.parent?e.parent.rootDist:0)+(e.data.length||0),e.y})).y((function(e){return e.x})).curve(y["i"]);return a(t)}t(e.cluster(e.root).links(),e.root.descendants()),e.xAxisGroup.call(e.xAxis),y["s"]("#showBranchLength").on("change",(function(){y["s"]("#showBranchLength").property("checked")?(t(e.cluster(e.root).links(),e.root.descendants()),y["s"]("#x-axis--tree").style("opacity","1")):(a(e.cluster(e.root).links(),e.root.descendants()),y["s"]("#x-axis--tree").style("opacity","0"))}))}},mounted:function(){var e=this,t={top:15,right:45,bottom:15,left:30},a=y["s"]("#phylo").node().clientWidth-t.left-t.right,n=250-t.top-t.bottom;e.margin=t,e.width=a,e.height=n;var r=y["s"]("#phylo").append("svg").attr("class","chart").attr("width",a+t.left+t.right).attr("height",n+t.top+t.bottom);e.svg=r;var s=r.append("g").attr("transform","translate(".concat(t.left,", ").concat(t.top,")"));e.g=s;var o=y["g"]().size([n,a]);e.cluster=o;var c=y["q"]().range([0,a]);e.xScale=c;var l=y["e"](e.xScale).ticks(3).tickSizeOuter(0).tickSizeInner(-e.height);e.xAxis=l;var i=e.svg.append("g").attr("class","axis x-axis").attr("id","x-axis--tree").attr("transform","translate(".concat(e.margin.left,", ").concat(e.margin.top+10,")"));e.xAxisGroup=i}};a("bb28");b.render=_;var A=b,B=a("bfe0"),S=a.n(B),C=a("dd0d"),w=a.n(C),k=a("df65"),O=a.n(k),P=Object(n["f"])("div",{class:"selectLabelVariants"},[Object(n["f"])("img",{src:S.a,alt:"",width:"20",height:"20",title:"Sort"}),Object(n["f"])("select",{class:"selectButtonVariants",id:"selectButtonSort"}),Object(n["f"])("label",{for:"selectButtonBrush"}," Size Brush: "),Object(n["f"])("select",{class:"selectButtonVariants",id:"selectButtonBrush"}),Object(n["f"])("img",{src:S.a,alt:"",width:"20",height:"20",title:"Sort",id:"sort_group"}),Object(n["f"])("select",{class:"selectButtonVariants",id:"selectButtonSortPhenos"})],-1),F=Object(n["f"])("div",{class:"container"},[Object(n["f"])("div",{id:"chart"}),Object(n["f"])("div",{class:"row",id:"header-arrows"},[Object(n["f"])("div",{class:"col",id:"footer-col-right"},[Object(n["f"])("div",{class:"float-start border rounded",id:"btn-arrow-left"},[Object(n["f"])("button",{type:"button",class:"btn btn-link btn-sm",id:"arrow-left"},[Object(n["f"])("img",{src:w.a,alt:"",width:"12",height:"12",title:"arrow-left"})])])]),Object(n["f"])("div",{class:"col",id:"footer-col-left"},[Object(n["f"])("div",{class:"float-end border rounded",id:"btn-arrow-right"},[Object(n["f"])("button",{type:"button",class:"btn btn-link btn-sm",id:"arrow-right"},[Object(n["f"])("img",{src:O.a,alt:"",width:"12",height:"12",title:"arrow-right"})])])])])],-1),G=Object(n["f"])("div",{id:"tooltipBarcode"},null,-1),j=Object(n["f"])("div",{id:"tooltip"},null,-1),T=Object(n["f"])("div",{id:"tooltip-bars"},null,-1),D=Object(n["f"])("div",{id:"tooltip-bars--pheno"},null,-1),L=Object(n["f"])("div",{id:"tooltip-pheno"},null,-1),V=Object(n["f"])("div",{id:"tooltip-bars--pheno2"},null,-1);function z(e,t,a,r,s,o){return Object(n["g"])(),Object(n["c"])(n["a"],null,[P,F,G,j,T,D,L,V],64)}var E=a("2909"),K=(a("4de4"),a("d81d"),a("6062"),a("3ca3"),a("ddb0"),a("a630"),{name:"GeneVariantVis",methods:{updateVis:function(e,t,a){console.log("data",e);var n=this,r=a.filter((function(e){return"DTF3"==e.pheno})),s=a.filter((function(e){return"DTF1"==e.pheno})),o=a.filter((function(e){return"Origin"==e.pheno})),c=a.filter((function(e){return"Group"==e.pheno}));n.data_pheno_dtf3=r,n.data_pheno_dtf1=s;var l=function(e,t,a){return a.indexOf(e)===t};function i(e,t){for(var a=[],n=e.length,r=0;r<n;++r)t(e[r],r,e)&&a.push(r);return a}function u(e){return function(t){return t.constructor.from(e,(function(e){return t[e]}))}}n.unique=l,n.filter=i,n.taker=u,n.data_mutations=t;var d={pos:e.map((function(e){return parseFloat(e.pos)})),base:e.map((function(e){return e.base})),base_hover:e.map((function(e){return e.base_hover})),accession:e.map((function(e){return e.accession}))};n.flat_data=d;var f=Object(E["a"])(new Set(d.accession)).length;n.nr_accessions=f;var h=e.length/f-1;n.length_gene=h;var p=t.map((function(e){return parseFloat(e.accession)})),v=y["m"](p)+5;n.max_mutations=v;var m=n.globalBrushStart,x=n.globalBrushEnd;(n.globalBrushStart>h||n.globalBrushEnd>h)&&(m=0,x=50),n.start=m,n.end=x;y["s"]("#selectButtonBrush").node().value;var g=y["s"]("#selectButtonSort").node().value,_=[d.pos,d.base,d.base_hover,d.accession].map(u(i(d.pos,(function(e){return e>=m&&e<=x})))),b={pos:_[0],base:_[1],base_hover:_[2],accession:_[3]};console.log("flat data slice",b);var A=b.pos.filter(l);console.log("genePositions",A);var B=b.accession.filter(l);console.log("gene accessions",B),n.geneAccessions=B;var S=c.sort((function(e,t){return t.accession.localeCompare(e.accession)})).map((function(e){return e.accession})),C=c.sort((function(e,t){return t.value.localeCompare(e.value)})).map((function(e){return e.accession})),w=o.sort((function(e,t){return t.value.localeCompare(e.value)})).map((function(e){return e.accession})),k=r.sort((function(e,t){return e.value-t.value})).map((function(e){return e.accession})),O=s.sort((function(e,t){return e.value-t.value})).map((function(e){return e.accession})),P={original_map:S,dtf1:O,dtf1_rev:O.slice().reverse(),dtf3:k,dtf3_rev:k.slice().reverse(),group:C,group_rev:C.slice().reverse(),origin:w,origin_rev:w.slice().reverse()};n.sortingOptions=P;var F={original_map:S,dtf1:O,dtf1_rev:O.slice().reverse(),dtf3:k,dtf3_rev:k.slice().reverse(),group:C,group_rev:C.slice().reverse(),origin:w,origin_rev:w.slice().reverse()};n.sortingOptionsPheno=F,n.xScaleContext.domain([0,n.length_gene]),n.yScaleContext.domain([0,n.max_mutations]),n.yScaleBarcode.domain(P[g]),n.xScaleFocus.domain(A),n.yScaleFocus.domain(P[g]),n.xScalePhenos.domain(["Group","Origin","DTF1","DTF3"]),n.yScalePhenos.domain(P[g]),n.xScalePhenoBars.domain([0,115.33]),n.yScalePhenoBars.domain(P[g]),n.xScalePhenoBars2.domain([0,137]),n.yScalePhenoBars2.domain(P[g]);var G=(x-m+1)*f,j=Array.from({length:G},(function(e,t){return{pos:b.pos[t],base:b.base[t],base_hover:b.base_hover[t],accession:b.accession[t]}}));n.rows_data_slice_default=j,n.data_phenos=a,n.geneAccessions=B,n.renderVis()},renderVis:function(){var e=this,t=e.phenoBars2.selectAll(".pheno-bar2").data(e.data_pheno_dtf1),a=t.enter().append("rect").attr("class","pheno-bar2");t.exit().remove(),a.merge(t).attr("width",(function(t){return e.xScalePhenoBars2(t.value)})).attr("height",e.yScalePhenoBars2.bandwidth()).attr("x",0).attr("y",(function(t){return e.yScalePhenoBars2(t.accession)})).attr("fill","#2a8d46").style("opacity",.8);var n=e.phenoBars.selectAll(".pheno-bar").data(e.data_pheno_dtf3),r=n.enter().append("rect").attr("class","pheno-bar");n.exit().remove(),r.merge(n).attr("width",(function(t){return e.xScalePhenoBars(t.value)})).attr("height",e.yScalePhenoBars.bandwidth()).attr("x",0).attr("y",(function(t){return e.yScalePhenoBars(t.accession)})).attr("fill","steelblue").style("opacity",.8);var s=e.svgContext.selectAll(".variants--summary-bar").data(e.data_mutations),o=s.enter().append("rect").attr("class","variants--summary-bar");s.exit().remove(),o.merge(s).attr("height",(function(t){return e.focusHeight-e.yScaleContext(t.accession)})).attr("width",1.5).attr("x",(function(t){return e.xScaleContext(t.pos)})).attr("y",(function(t){return e.yScaleContext(t.accession)})),e.svgContext.selectAll(".brush").call(e.brush).call(e.brush.move,[e.start,e.end].map(e.xScaleContext)),u("left",e.start,e.end),u("right",e.start,e.end),e.brush.on("end",f),e.brush.on("brush",i),d(e.rows_data_slice_default);var c=e.phenoChart.selectAll(".pheno-cell").data(e.data_phenos,(function(e){return e})),l=c.enter().append("rect").attr("class","pheno-cell");function i(t){var a=t.selection,n=a.map(e.xScaleContext.invert,e.xScaleContext),r=Math.round(n[0]),s=Math.round(n[1]);u("left",r,s),u("right",r,s),e.globalBrushStart=r,e.globalBrushEnd=s}function u(t,a,n){if("left"==t)var r=".brushLabelL",s="end",o=[a],c=0;else r=".brushLabelR",s="start",o=[n],c=1;var l=e.svgContextLabels.selectAll(r).data(o);l.selectAll("text").remove();var i=l.append("text");l.exit().remove();i.merge(l).style("text-anchor",s).attr("x",[a,n].map(e.xScaleContext)[c]).text((function(e){return e}))}function d(t){e.svgFocus.selectAll(".row--accession").data(Object(E["a"])(new Set(t.map((function(e){return e.accession}))))).enter().append("svg:g").attr("class",".row--accession");var a=e.svgFocus.selectAll(".snp-cell").data(t,(function(e){return e})),n=a.enter().append("rect").attr("class","snp-cell");a.exit().remove(),n.merge(a).attr("x",(function(t){return e.xScaleFocus(t.pos)})).attr("y",(function(t){return e.yScaleFocus(t.accession)})).attr("rx",1.5).attr("ry",1.5).attr("width",e.xScaleFocus.bandwidth()).attr("height",e.yScaleFocus.bandwidth()).style("fill",(function(t){return e.colors[t.base]})).style("opacity",.8)}function f(t){var a=t.selection,n=a.map(e.xScaleContext.invert,e.xScaleContext),r=Math.round(n[0]),s=Math.round(n[1]);e.xScaleFocus.domain(y["o"](r,s+1));var o=[e.flat_data.pos,e.flat_data.base,e.flat_data.base_hover,e.flat_data.accession].map(e.taker(e.filter(e.flat_data.pos,(function(e){return e>=r&&e<=s})))),c={pos:o[0],base:o[1],base_hover:o[2],accession:o[3]},l=(s-r+1)*e.nr_accessions,i=Array.from({length:l},(function(e,t){return{pos:c.pos[t],base:c.base[t],base_hover:c.base_hover[t],accession:c.accession[t]}}));e.svgFocus.selectAll(".x-axis--focus").call(e.xAxisFocus.tickValues(e.xScaleFocus.domain().filter((function(e,t){return!(t%20)})))),e.svgFocus.select(".x-axis--focus .domain").remove(),d(i),e.svgContext.selectAll(".variants--summary-bar").on("mouseover",b).on("mousemove",A).on("mouseleave",_),e.svgFocus.selectAll(".snp-cell").on("mouseover",m).on("mousemove",x).on("mouseleave",g)}c.exit().remove(),l.merge(c).attr("x",(function(t){return e.xScalePhenos(t.pheno)})).attr("y",(function(t){return e.yScalePhenos(t.accession)})).attr("rx",2.5).attr("ry",2.5).attr("width",e.xScalePhenos.bandwidth()).attr("height",e.yScalePhenos.bandwidth()).style("fill",(function(t){return"DTF1"==t.pheno?e.colorScaleDTF1(t.value):"DTF3"==t.pheno?e.colorScaleDTF3(t.value):"Group"==t.pheno?e.colorScaleGroup(t.value):"Origin"==t.pheno?e.colorScaleOrigin(t.value):void 0})).style("stroke-width",1).style("stroke","dimgrey").style("opacity",.9),e.xAxisContextG.call(e.xAxisContext),e.yAxisContextG.call(e.yAxisContext),e.xAxisBarcodeG.call(e.xAxisBarcode),e.xAxisBarcodeG.select(".x-axis--barcode .domain").remove(),e.yAxisBarcodeG.call(e.yAxisBarcode),e.yAxisBarcodeG.select(".y-axis--barcode .domain").remove(),e.xAxisFocusG.call(e.xAxisFocus.tickValues(e.xScaleFocus.domain().filter((function(e,t){return!(t%10)})))),e.xAxisFocusG.select(".x-axis--focus .domain").remove(),e.yAxisFocusG.call(e.yAxisFocus),e.yAxisFocusG.select(".y-axis--focus .domain").remove(),e.xAxisPhenosG.call(e.xAxisPhenos).selectAll("text").attr("y",-10).attr("x",5).attr("transform","rotate(-45)").style("text-anchor","start"),e.xAxisPhenosG.select(".x-axis--phenos .domain").remove(),e.yAxisPhenosG.call(e.yAxisPhenos),e.yAxisPhenosG.select(".y-axis--phenos .domain").remove(),e.xAxisPhenoBarsG.call(e.xAxisPhenoBars),e.yAxisPhenoBarsG.call(e.yAxisPhenoBars),e.yAxisPhenoBarsG.select(".y-axis--phenobars .domain").remove(),e.xAxisPhenoBarsG2.call(e.xAxisPhenoBars2),e.yAxisPhenoBarsG2.call(e.yAxisPhenoBars2),e.yAxisPhenoBarsG2.select(".y-axis--phenobars2 .domain").remove();var h=function(){y["s"]("#tooltipBarcode").style("display","block").style("opacity",.8).style("color","black"),y["s"](this).style("stroke","black").style("stroke-width","1px").style("opacity",1)},p=function(t,a){y["s"]("#tooltipBarcode").html(" <strong>pos:</strong> "+a.pos).style("left",y["n"](t)[0]+1*e.leftColWidth+"px").style("top",y["n"](t)[1]+5*e.topRowHeight+"px")},v=function(){y["s"]("#tooltipBarcode").style("display","none"),y["s"](this).style("stroke","none").style("opacity",.8)},m=function(){y["s"]("#tooltip").style("display","block").style("opacity",.8).style("color","black"),y["s"](this).style("stroke","black").style("stroke-width","1px").style("opacity",1)},x=function(t,a){y["s"]("#tooltip").html("<strong>base:</strong> "+a.base_hover+"<br/><strong>position:</strong> "+a.pos+"<br/><strong>accession:</strong> "+a.accession).style("left",y["n"](t)[0]+2*e.leftColWidth+"px").style("top",y["n"](t)[1]+2*e.topRowHeight+"px")},g=function(){y["s"]("#tooltip").style("display","none"),y["s"](this).style("stroke","none").style("opacity",.8)},_=function(){y["s"]("#tooltip-bars").style("display","none"),y["s"](this).style("stroke","none").style("opacity",.8)},b=function(){y["s"]("#tooltip-bars").style("display","block").style("opacity",.8).style("color","black"),y["s"](this).style("stroke","black").style("stroke-width","1px").style("opacity",1)},A=function(t,a){y["s"]("#tooltip-bars").html("<strong>#SNPs:</strong> "+a.accession+"<br/><strong>Position:</strong> "+a.pos).style("left",y["n"](t)[0]+2*e.leftColWidth+"px").style("top",y["n"](t)[1]+.6*e.topRowHeight+"px")},B=function(){y["s"]("#tooltip-pheno").style("display","none"),y["s"](this).style("stroke","darkgrey").style("stroke-width","1px").style("opacity",.8)},S=function(){y["s"]("#tooltip-pheno").style("display","block").style("opacity",.8).style("color","white"),y["s"](this).style("stroke","black").style("stroke-width","2px").style("opacity",1)},C=function(t,a){y["s"]("#tooltip-pheno").html(a.accession+"<br/>"+a.value).style("left",y["n"](t)[0]+(2.2*e.leftColWidth+e.midColWidth)+"px").style("top",y["n"](t)[1]+7*e.topRowHeight+"px")},w=function(){y["s"]("#tooltip-bars--pheno").style("display","none"),y["s"](this).style("stroke","white").style("stroke-width","1px").style("opacity",.8)},k=function(){y["s"]("#tooltip-bars--pheno").style("display","block").style("opacity",.8).style("color","white"),y["s"](this).style("stroke","black").style("stroke-width","2px").style("opacity",1)},O=function(t,a){y["s"]("#tooltip-bars--pheno").html(a.accession+"<br/>"+a.value).style("left",y["n"](t)[0]+(2*e.leftColWidth+e.midColWidth+e.phenoChartWidth)+"px").style("top",y["n"](t)[1]+7*e.topRowHeight+"px")},P=function(){y["s"]("#tooltip-bars--pheno2").style("display","none"),y["s"](this).style("stroke","white").style("stroke-width","1px").style("opacity",.8)},F=function(){y["s"]("#tooltip-bars--pheno2").style("display","block").style("opacity",.8).style("color","white"),y["s"](this).style("stroke","black").style("stroke-width","2px").style("opacity",1)},G=function(t,a){y["s"]("#tooltip-bars--pheno2").html(a.accession+"<br/>"+a.value).style("left",y["n"](t)[0]+(2*e.leftColWidth+e.midColWidth+.6*e.phenoChartWidth)+"px").style("top",y["n"](t)[1]+7*e.topRowHeight+"px")};function j(t){e.yScaleBarcode.domain(t),e.varBarcodeChart.select(".y-axis--barcode").call(e.yAxisBarcode),e.varBarcodeChart.select(".y-axis--barcode .domain").remove(),e.varBarcodeChart.selectAll(".myAccessions").transition().duration(400).attr("cy",(function(t){return e.yScaleBarcode(t)+e.yScaleBarcode.bandwidth()/2})).attr("cx",(function(t){e.xScaleBarcode(t)})),e.varBarcodeChart.selectAll(".myLabels").transition().duration(400).attr("y",(function(t){return e.yScaleBarcode(t)+e.yScaleBarcode.bandwidth()/1.5})).attr("x",120),e.yScaleFocus.domain(t),e.svgFocus.select(".y-axis--focus").call(e.yAxisFocus),e.svgFocus.select(".y-axis--focus .domain").remove(),e.svgFocus.selectAll(".snp-cell").transition().duration(500).attr("x",(function(t){return e.xScaleFocus(t.pos)})).attr("y",(function(t){return e.yScaleFocus(t.accession)})),e.svgFocus.selectAll(".snp-cell").on("mouseover",m).on("mousemove",x).on("mouseleave",g),e.varBarcodeChart.selectAll(".barcode-cell").on("mouseover",h).on("mousemove",p).on("mouseleave",v)}function T(t){e.yScalePhenos.domain(t),e.phenoChart.select(".y-axis--phenos").call(e.yAxisPhenos),e.phenoChart.select(".y-axis--phenos .domain").remove(),e.phenoChart.selectAll(".pheno-cell").transition().duration(500).attr("x",(function(t){return e.xScalePhenos(t.pheno)})).attr("y",(function(t){return e.yScalePhenos(t.accession)})),e.yScalePhenoBars.domain(t),e.phenoBars.select(".y-axis--phenobars").call(e.yAxisPhenoBars),e.phenoBars.select(".y-axis--phenobars .domain").remove(),e.phenoBars.selectAll(".pheno-bar").transition().duration(500).attr("width",(function(t){return e.xScalePhenoBars(t.value)})).attr("height",e.yScalePhenoBars.bandwidth()).attr("x",0).attr("y",(function(t){return e.yScalePhenoBars(t.accession)})),e.yScalePhenoBars2.domain(t),e.phenoBars2.select(".y-axis--phenobars2").call(e.yAxisPhenoBars),e.phenoBars2.select(".y-axis--phenobars2 .domain").remove(),e.phenoBars2.selectAll(".pheno-bar2").transition().duration(500).attr("width",(function(t){return e.xScalePhenoBars2(t.value)})).attr("height",e.yScalePhenoBars2.bandwidth()).attr("x",0).attr("y",(function(t){return e.yScalePhenoBars2(t.accession)})),e.phenoChart.selectAll(".pheno-cell").on("mouseover",S).on("mousemove",C).on("mouseleave",B),e.phenoBars.selectAll(".pheno-bar").on("mouseover",k).on("mousemove",O).on("mouseleave",w),e.phenoBars2.selectAll(".pheno-bar").on("mouseover",F).on("mousemove",G).on("mouseleave",P)}function D(t){var a=y["j"](e.xScaleFocus.domain());if("left"===t)if(a[0]<=0)var n=0,r=a[1]-1;else n=a[0]-1,r=a[1]-1;"right"==t&&(a[1]>=e.length_gene?(n=a[0]+1,r=e.length_gene):(n=a[0]+1,r=a[1]+1)),e.svgContext.selectAll(".brush").call(e.brush.move,[n,r].map(e.xScaleContext)),e.xScaleFocus.domain(y["o"](n,r+1));var s=[e.flat_data.pos,e.flat_data.base,e.flat_data.base_hover,e.flat_data.accession].map(e.taker(e.filter(e.flat_data.pos,(function(e){return e>=n&&e<=r})))),o={pos:s[0],base:s[1],base_hover:s[2],accession:s[3]},c=(r-n+1)*e.nr_accessions,l=Array.from({length:c},(function(e,t){return{pos:o.pos[t],base:o.base[t],base_hover:o.base_hover[t],accession:o.accession[t]}}));e.svgFocus.selectAll(".x-axis--focus").call(e.xAxisFocus.tickValues(e.xScaleFocus.domain().filter((function(e,t){return!(t%20)})))),e.svgFocus.select(".x-axis--focus .domain").remove(),d(l),e.svgFocus.selectAll(".snp-cell").on("mouseover",m).on("mousemove",x).on("mouseleave",g)}y["s"]("#selectButtonSort").on("change",(function(){var t=y["s"]("#selectButtonSort").node().value;console.log("selected order MSA: ",t),j(e.sortingOptions[t]),y["s"]("#selectButtonSortPhenos").property("value",t),T(e.sortingOptionsPheno[t])})),y["s"]("#selectButtonSortPhenos").on("change",(function(){var t=y["s"]("#selectButtonSortPhenos").node().value;T(e.sortingOptionsPheno[t]),y["s"]("#selectButtonSort").property("value",t),j(e.sortingOptions[t])})),y["s"]("#selectButtonBrush").on("change",(function(){var t=y["s"]("#selectButtonBrush").node().value,a=0,n=100*parseInt(t);e.svgContext.selectAll(".brush").call(e.brush.move,[a,n].map(e.xScaleContext)),e.svgFocus.selectAll(".x-axis--focus").call(e.xAxisFocus.tickValues(e.xScaleFocus.domain().filter((function(e,t){return!(t%20)})))),e.svgFocus.select(".x-axis--focus .domain").remove()})),y["s"]("#btn-arrow-left").on("click",(function(){D("left")})),y["s"]("#btn-arrow-right").on("click",(function(){D("right")}));var L=y["s"]("#selectButtonAccessionData").node().value;console.log("selected VR from component sequence: ",L);var V=L.split("_"),z=V[1]+"_"+V[2];console.log("selected VisRef from component sequence: ",z);var K=e.varBarcodeChart.selectAll(".myAccessions").data(e.geneAccessions),R=K.enter().append("circle").attr("class","myAccessions");K.exit().remove(),R.merge(K).attr("cy",(function(t){return e.yScaleBarcode(t)+e.yScaleBarcode.bandwidth()/2})).attr("cx",(function(t){e.xScaleBarcode(t)})).attr("r",5).style("fill",(function(e){return e==z?"cornflowerblue":"lightgrey"}));var W=e.varBarcodeChart.selectAll(".myLabels").data(e.geneAccessions),M=W.enter().append("text").attr("class","myLabels");W.exit().remove(),M.merge(W).attr("y",(function(t){return e.yScaleBarcode(t)+e.yScaleBarcode.bandwidth()/1.5})).attr("x",e.leftColWidth-20).text((function(e){return e})).style("text-anchor","end").style("font-weight",(function(e){return e==z?750:350})),"_ref"===L?(y["s"](".y-axis--context").style("opacity","0"),y["s"](".y-axis-title").style("opacity","0")):(y["s"](".y-axis--context").style("opacity","1"),y["s"](".y-axis-title").style("opacity","1")),e.svgFocus.selectAll(".snp-cell").on("mouseover",m).on("mousemove",x).on("mouseleave",g),e.svgContext.selectAll(".variants--summary-bar").on("mouseover",b).on("mousemove",A).on("mouseleave",_),e.phenoChart.selectAll(".pheno-cell").on("mouseover",S).on("mousemove",C).on("mouseleave",B),e.phenoBars.selectAll(".pheno-bar").on("mouseover",k).on("mousemove",O).on("mouseleave",w),e.phenoBars2.selectAll(".pheno-bar2").on("mouseover",F).on("mousemove",G).on("mouseleave",P)}},mounted:function(){var e=this,t=50;e.globalBrushEnd=t;var a=0;e.globalBrushStart=a;var n=y["s"]("#chart").node().clientWidth,r=500,s={top:5,right:5,bottom:0,left:5},o=12,c=40,l=n-s.left-s.right,i=r-s.top-s.left-c,u=l/10*1.8;e.leftColWidth=u;var d=0,f=u-d-o,h=l/10*6;e.midColWidth=h;var p=l-u-h,v=130,m=p-v;e.phenoChartWidth=m;var x=30;e.topRowHeight=x;var g=i-x-5*o,_=30;e.focusHeight=_,e.margin=s,e.width=l,e.height=i;var b={A:"#4daf4a",a:"#4daf4a80",G:"#e41a1c",g:"#e41a1c80",C:"#ff7f00",c:"#ff7f0080",T:"#377eb8",t:"#377eb880","-":"rgb(214,218,224)","*":"rgb(39,43,50)","=":"#FAFAFA"};e.colors=b;var A=[1,2,3,4,5,6,7],B=["#4daf4a","#ff7f00","#e41a1c","#377eb8","rgb(39,43,50)","rgb(214,218,224)","#FAFAFA"],S=["A","C","G","T","gap*","no call","identical"],C={original_map:"original mapping",dtf1:"DTF1 descending",dtf1_rev:"DTF1 ascending",dtf3:"DTF3 descending",dtf3_rev:"DTF3 ascending",group:"group",group_rev:"group reversed",origin:"origin",origin_rev:"origin reversed"};e.orders=C;var w={original_map:"original mapping",dtf1:"DTF1 descending",dtf1_rev:"DTF1 ascending",dtf3:"DTF3 descending",dtf3_rev:"DTF3 ascending",group:"group",group_rev:"group reversed",origin:"origin",origin_rev:"origin reversed"};e.ordersPheno=w;var k={1:"100 positions",2:"200 positions",3:"300 positions",4:"400 positions"};e.brushSizes=k;var O=y["q"]().range([0,h]);e.xScaleContext=O;var P=y["q"]().range([x,0]);e.yScaleContext=P;var F=y["p"]().range([0,f]).padding(.6);e.xScaleBarcode=F;var G=y["p"]().range([g,0]).padding(.07);e.yScaleBarcode=G;var j=y["p"]().range([0,h]).padding(.01);e.xScaleFocus=j;var T=y["p"]().range([g,0]).padding(.008);e.yScaleFocus=T;var D=y["p"]().range([0,m]).padding(.6);e.xScalePhenos=D;var L=y["p"]().range([g,0]).padding(.3);e.yScalePhenos=L;var V=y["p"]().range([g,0]).padding(.4);e.yScalePhenoBars=V;var z=y["q"]().range([0,v/2]);e.xScalePhenoBars=z;var E=y["p"]().range([g,0]).padding(.4);e.yScalePhenoBars2=E;var K=y["q"]().range([0,v/2]);e.xScalePhenoBars2=K;var R=y["q"]().domain([28,137]).range(["#d3eecd","#2a8d46"]);e.colorScaleDTF1=R;var W=y["q"]().domain([28,116]).range(["#deebf7","#08519c"]);e.colorScaleDTF3=W;var M=y["r"]().domain(["X","Y"]).range(["black","white"]);e.colorScaleGroup=M;var H=y["r"]().domain(["United States","Belgium","Portugal","Cape Verde","Sweden","Japan","Germany","Tajikistan","India","China"]).range(["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"]);e.colorScaleOrigin=H;var q=y["b"]().scale(e.xScaleContext).tickSizeOuter(0);e.xAxisContext=q;var I=y["c"](e.yScaleContext).ticks(2).tickSizeOuter(0);e.yAxisContext=I;var N=y["e"](e.xScaleBarcode).tickValues([]);e.xAxisBarcode=N;var J=y["c"](e.yScaleBarcode).tickValues([]);e.yAxisBarcode=J;var $=y["e"](e.xScaleFocus);e.xAxisFocus=$;var U=y["c"](e.yScaleFocus).tickValues([]);e.yAxisFocus=U;var X=y["e"](e.xScalePhenos);e.xAxisPhenos=X;var Y=y["d"](e.yScalePhenos).tickValues([]);e.yAxisPhenos=Y;var Q=y["d"](e.yScalePhenoBars).tickValues([]);e.yAxisPhenoBars=Q;var Z=y["e"]().scale(e.xScalePhenoBars).ticks(3).tickSizeOuter(0);e.xAxisPhenoBars=Z;var ee=y["d"](e.yScalePhenoBars2).tickValues([]);e.yAxisPhenoBars2=ee;var te=y["e"]().scale(e.xScalePhenoBars2).ticks(3).tickSizeOuter(0);e.xAxisPhenoBars2=te;var ae=y["f"]().extent([[0,0],[h,_]]);e.brush=ae;y["s"]("#footer-col-right").attr("transform","translate(".concat(u,", ",0,")"));var ne=y["s"]("#chart").append("svg").attr("width",n).attr("height",r).append("g").attr("transform","translate(".concat(s.left,", ").concat(s.top,")"));e.svg=ne;var re=ne.append("g").attr("transform","translate(".concat(u,", 10)"));e.svgContext=re,re.append("rect").attr("class","background-gene--context").attr("width",h).attr("height",x),re.append("g").attr("class","brush").attr("transform","translate(0,0)");var se=re.append("g").attr("class","brushLabels").style("font-size",11).style("font-family","sans-serif").style("fill","cornflowerblue").style("font-weight",600).attr("transform","translate(".concat(0,", ",e.margin.top-10,")"));e.svgContextLabels=se;var oe=e.svgContextLabels.append("g").attr("class","brushLabelL");e.labelL=oe;var ce=e.svgContextLabels.append("g").attr("class","brushLabelR");e.labelR=ce;var le=ne.append("g").attr("transform","translate(".concat(1*o,", ").concat(x+6*o,")"));e.varBarcodeChart=le,e.varBarcodeChart.append("rect").attr("class","background-summary").attr("width",f-1*o).attr("height",g).style("fill","white");var ie=ne.append("g").attr("transform","translate(".concat(u+h,", ").concat(x+6*o,")"));e.phenoChart=ie,e.phenoChart.append("rect").attr("class","background-summary").attr("width",m/2).attr("height",g).style("fill","white").style("opacity","1");var ue=ne.append("g").attr("transform","translate(".concat(u+h+m+o/2+v/2,", ").concat(x+6*o,")"));e.phenoBars=ue,e.phenoBars.append("rect").attr("class","background-summary-phenobar").attr("width",v/2).attr("height",g).style("fill","steelblue").style("opacity","0.1");var de=ne.append("g").attr("transform","translate(".concat(u+h+m,", ").concat(x+6*o,")"));e.phenoBars2=de,e.phenoBars2.append("rect").attr("class","background-summary-phenobar").attr("width",v/2).attr("height",g).style("fill","#2a8d46").style("opacity","0.1");var fe=ne.append("g").attr("transform","translate(".concat(u,", ").concat(x+6*o,")"));e.svgFocus=fe;var he=e.svgContext.append("g").attr("class","x-axis--context").style("font-size",10).attr("transform","translate(0,"+_+")");e.xAxisContextG=he;var pe=e.svgContext.append("g").attr("class","y-axis--context").style("font-size",10).attr("transform","translate(0,0)");e.yAxisContextG=pe,e.svgContext.append("text").attr("class","x-axis-title").attr("y",e.margin.top+e.focusHeight+2*o).attr("x",h/2).attr("dy","0.5em").style("text-anchor","middle").style("font-size",10).style("font-family","sans-serif").text("Length Gene"),e.svgContext.append("text").attr("transform","translate(".concat(-80,", ").concat(e.focusHeight/2-5,") rotate(-90)")).attr("class","y-axis-title").attr("y",e.focusHeight+o).attr("x",-10).attr("dy","0.5em").style("text-anchor","middle").style("font-size",10).style("font-family","sans-serif").text("# SNPs"),e.phenoBars.append("text").attr("class","x-axis-title").attr("y",-30).attr("x",v/4).attr("dy","0.5em").style("text-anchor","middle").style("font-size",10).style("font-family","sans-serif").text("DTF3"),e.phenoBars2.append("text").attr("class","x-axis-title").attr("y",-30).attr("x",v/4).attr("dy","0.5em").style("text-anchor","middle").style("font-size",10).style("font-family","sans-serif").text("DTF1");var ve=e.varBarcodeChart.append("g").attr("class","x-axis--barcode").style("font-size",10);e.xAxisBarcodeG=ve;var me=e.varBarcodeChart.append("g").attr("class","y-axis--barcode").style("font-size",10);e.yAxisBarcodeG=me;var ye=e.svgFocus.append("g").attr("class","x-axis--focus").style("font-size",10);e.xAxisFocusG=ye;var xe=e.svgFocus.append("g").attr("class","y-axis--focus").style("font-size",10);e.yAxisFocusG=xe;var ge=e.phenoChart.append("g").attr("class","x-axis--phenos").style("font-size",10);e.xAxisPhenosG=ge;var _e=e.phenoChart.append("g").attr("class","y-axis--phenos").style("font-size",10);e.yAxisPhenosG=_e;var be=e.phenoBars.append("g").attr("class","x-axis--phenobars").style("font-size",10);e.xAxisPhenoBarsG=be;var Ae=e.phenoBars.append("g").attr("class","y-axis--phenobars").style("font-size",10);e.yAxisPhenoBarsG=Ae;var Be=e.phenoBars2.append("g").attr("class","x-axis--phenobars2").style("font-size",10);e.xAxisPhenoBarsG2=Be;var Se=e.phenoBars2.append("g").attr("class","y-axis--phenobars2").style("font-size",10);e.yAxisPhenoBarsG2=Se;var Ce=fe.selectAll(".legendVariants").data(A).enter().append("g").attr("class","legendVariants").attr("transform",(function(e,t){return"translate("+80*t+","+(x+g-20)+")"}));Ce.append("rect").attr("width",15).attr("height",15).attr("rx",1.5).attr("ry",1.5).style("fill",(function(e,t){return B[t]})).style("opacity",.8).style("stroke-width",.5).style("stroke","dimgrey"),Ce.append("text").attr("x",18).attr("y",8).attr("dy",".35em").text((function(e,t){return S[t]})),y["s"]("#selectButtonSort").selectAll("myOptions").data(Object.keys(C)).enter().append("option").text((function(e){return C[e]})).attr("value",(function(e){return e})),y["s"]("#selectButtonBrush").selectAll("myOptionsBrush").data(Object.keys(k)).enter().append("option").text((function(e){return k[e]})).attr("value",(function(e){return e})),y["s"]("#selectButtonSortPhenos").selectAll("myOptions").data(Object.keys(w)).enter().append("option").text((function(e){return w[e]})).attr("value",(function(e){return e}))}});a("4edc");K.render=z;var R=K,W={name:"App",components:{TreeVis:A,GeneVariantVis:R},data:function(){return{loadDataMSA:{},loadDataMut:{},loadDataTree:{},loadDataPheno:{}}},mounted:function(){console.log("App loaded");var e={AT1G01010_1:"AT1G01010",AT1G01020_1:"AT1G01020",AT1G01030_1:"AT1G01030",AT1G01040_1:"AT1G01040",AT1G01050_1:"AT1G01050",AT1G01060_1:"AT1G01060",AT1G11460_1:"AT1G11460",AT1G02820_1:"AT1G02820",AT5G47700_1:"AT5G47700"},t={AT1G01010_1:[{ref:"_ref",name:"none"},{ref:"_1_Col-0",name:"1_Col-0"},{ref:"_2_An-1",name:"2_An-1"},{ref:"_3_C24",name:"3_C24"},{ref:"_4_Cvi",name:"4_Cvi"},{ref:"_5_Eri",name:"5_Eri"},{ref:"_6_Kyo",name:"6_Kyo"},{ref:"_7_Ler",name:"7_Ler"},{ref:"_8_Sha",name:"8_Sha"}],AT1G01020_1:[{ref:"_ref",name:"none"},{ref:"_1_Col-0",name:"1_Col-0"},{ref:"_2_An-1",name:"2_An-1"},{ref:"_3_C24",name:"3_C24"},{ref:"_4_Cvi",name:"4_Cvi"},{ref:"_5_Eri",name:"5_Eri"},{ref:"_6_Kyo",name:"6_Kyo"},{ref:"_7_Ler",name:"7_Ler"},{ref:"_8_Sha",name:"8_Sha"}],AT1G01030_1:[{ref:"_ref",name:"none"},{ref:"_1_Col-0",name:"1_Col-0"},{ref:"_2_An-1",name:"2_An-1"},{ref:"_3_C24",name:"3_C24"},{ref:"_4_Cvi",name:"4_Cvi"},{ref:"_5_Eri",name:"5_Eri"},{ref:"_6_Kyo",name:"6_Kyo"},{ref:"_7_Ler",name:"7_Ler"},{ref:"_8_Sha",name:"8_Sha"}],AT1G01040_1:[{ref:"_ref",name:"none"},{ref:"_1_Col-0",name:"1_Col-0"},{ref:"_2_An-1",name:"2_An-1"},{ref:"_3_C24",name:"3_C24"},{ref:"_4_Cvi",name:"4_Cvi"},{ref:"_5_Eri",name:"5_Eri"},{ref:"_6_Kyo",name:"6_Kyo"},{ref:"_7_Ler",name:"7_Ler"},{ref:"_8_Sha",name:"8_Sha"}],AT1G01050_1:[{ref:"_ref",name:"none"},{ref:"_1_Col-0",name:"1_Col-0"},{ref:"_2_An-1",name:"2_An-1"},{ref:"_3_C24",name:"3_C24"},{ref:"_4_Cvi",name:"4_Cvi"},{ref:"_5_Eri",name:"5_Eri"},{ref:"_6_Kyo",name:"6_Kyo"},{ref:"_7_Ler",name:"7_Ler"},{ref:"_8_Sha",name:"8_Sha"}],AT1G01060_1:[{ref:"_ref",name:"none"},{ref:"_1_Col-0",name:"1_Col-0"},{ref:"_2_An-1",name:"2_An-1"},{ref:"_3_C24",name:"3_C24"},{ref:"_4_Cvi",name:"4_Cvi"},{ref:"_5_Eri",name:"5_Eri"},{ref:"_6_Kyo",name:"6_Kyo"},{ref:"_7_Ler",name:"7_Ler"},{ref:"_8_Sha",name:"8_Sha"}],AT1G11460_1:[{ref:"_ref",name:"none"},{ref:"_1_Col-0",name:"1_Col-0"},{ref:"_2_An-1",name:"2_An-1"},{ref:"_3_C24",name:"3_C24"},{ref:"_5_Eri",name:"5_Eri"},{ref:"_7_Ler",name:"7_Ler"}],AT1G02820_1:[{ref:"_ref",name:"none"},{ref:"_1_Col-0",name:"1_Col-0"},{ref:"_2_An-1",name:"2_An-1"},{ref:"_3_C24",name:"3_C24"},{ref:"_4_Cvi",name:"4_Cvi"},{ref:"_5_Eri",name:"5_Eri"},{ref:"_6_Kyo",name:"6_Kyo"},{ref:"_7_Ler",name:"7_Ler"},{ref:"_8_Sha",name:"8_Sha"}],AT5G47700_1:[{ref:"_ref",name:"none"},{ref:"_1_Col-0",name:"1_Col-0"},{ref:"_2_An-1",name:"2_An-1"},{ref:"_3_C24",name:"3_C24"},{ref:"_4_Cvi(1)",name:"4_Cvi(1)"},{ref:"_4_Cvi(2)",name:"4_Cvi(2)"},{ref:"_5_Eri(1)",name:"5_Eri(1)"},{ref:"_5_Eri(2)",name:"5_Eri(2)"},{ref:"_6_Kyo",name:"6_Kyo"},{ref:"_7_Ler",name:"7_Ler"},{ref:"_8_Sha(1)",name:"8_Sha(1)"},{ref:"_8_Sha(2)",name:"8_Sha(2)"}]};console.log("accession list per gene",t),this.accessionNames=t,y["s"]("#selectButtonData").selectAll("myOptionsData").data(Object.keys(e)).enter().append("option").text((function(t){return e[t]})).attr("value",(function(e){return e}));var a={_ref:"none","_1_Col-0":"1_Col-0","_2_An-1":"2_An-1",_3_C24:"3_C24",_4_Cvi:"4_Cvi",_5_Eri:"5_Eri",_6_Kyo:"6_Kyo",_7_Ler:"7_Ler",_8_Sha:"8_Sha"};this.selectedGeneId=y["s"]("#selectButtonData").node().value,console.log("selected gene ID",this.selectedGeneId);var n=t[this.selectedGeneId];console.log("selected gene accessions",n),this.accessionsGene=n;var r=y["s"]("#selectButtonAccessionData");this.accessionButton=r;var s={kmer_distance:"k-mer distance",gene_distance:"gene distance",ani:"ANI"};y["s"]("#selectButtonTreeData").selectAll("myOptionsTreeData").data(Object.keys(s)).enter().append("option").text((function(e){return s[e]})).attr("value",(function(e){return e})),this.fetchData(Object.keys(e)[0],Object.keys(a)[0]),this.fetchDataTree(Object.keys(s)[0]),this.updateData()},methods:{updateData:function(){var e=this,t=this;t.accessionButton.selectAll("myOptionsAccessionData").data(t.accessionsGene).enter().append("option").attr("class","myOptionsAccessionData").text((function(e){return e.name})).attr("value",(function(e){return e.ref})),y["s"]("#selectButtonData").on("change",(function(){var a=y["s"]("#selectButtonData").node().value;console.log("TEST!!");var n=t.accessionNames[a];console.log("selected gene ID accessions in update: ",n);var r=t.accessionButton.selectAll(".myOptionsAccessionData").data(n);console.log("vis accession button update",r);var s=r.enter().append("option").attr("class","myOptionsAccessionData");r.exit().remove(),console.log("vis accession button enter",s),s.merge(r).text((function(e){return e.name})).attr("value",(function(e){return e.ref})),console.log("vis accession button enter final",s);var o=y["s"]("#selectButtonAccessionData").node().value;e.fetchData(a,o)})),y["s"]("#selectButtonTreeData").on("change",(function(){var t=y["s"]("#selectButtonTreeData").node().value;e.fetchDataTree(t)})),y["s"]("#selectButtonAccessionData").on("change",(function(){var t=y["s"]("#selectButtonData").node().value,a=y["s"]("#selectButtonAccessionData").node().value;e.fetchData(t,a)}))},fetchDataTree:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fetch("./trees/tree_"+e+".txt");case 2:return n=a.sent,a.next=5,n.text();case 5:r=a.sent,t.loadDataTree=r,s=t.$refs["tree_data"],s.updateVis(r);case 9:case"end":return a.stop()}}),a)})))()},fetchData:function(e,t){var a=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,s,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("initial Gene =",e),console.log("initial Accession =",t),n.next=4,y["h"]("./gene_variants_newest/matrix_"+e+t+".csv");case 4:return r=n.sent,a.loadDataMSA=r,n.next=8,y["h"]("./gene_variants_newest/var_count_matrix_"+e+t+".csv");case 8:return s=n.sent,a.loadDataMut=s,n.next=12,y["h"]("./gene_variants_newest/pheno_"+e+".csv");case 12:o=n.sent,a.loadDataPheno=o,c=a.$refs["variant_data"],c.updateVis(r,s,o);case 16:case"end":return n.stop()}}),n)})))()}}};a("c157");W.render=v;var M=W,H=(a("ab8b"),a("9537"),a("3e48"),Object(n["b"])(M));H.config.productionTip=!1,H.mount("#app")},bb28:function(e,t,a){"use strict";a("fd5e")},bfe0:function(e,t,a){e.exports=a.p+"img/sort-down.a88d29fd.svg"},c157:function(e,t,a){"use strict";a("2d17")},dd0d:function(e,t,a){e.exports=a.p+"img/arrow-left.b7a1da3d.svg"},df65:function(e,t,a){e.exports=a.p+"img/arrow-right.4ce51759.svg"},fd5e:function(e,t,a){}});
//# sourceMappingURL=app.ae30df0d.js.map